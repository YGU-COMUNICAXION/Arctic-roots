---
import HeroBanner from "@components/HeroBanner.astro";
import AboutValues from "@components/about/AboutValues.astro";
import TestimonialsSection from "@components/TestimonialsSection.astro";
import Layout from "@layouts/Layout.astro";

import AboutHeroImage from "@assets/img/about-us/hero.jpg";
import WaterfallBackground from "@assets/img/home/bgCascada.jpg";

import { getLangFromUrl, useTranslations } from "@i18n/utils";
import { ui } from "@i18n/ui";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const aboutContent = ui[lang].about;
---

<Layout lang={lang}>
  <HeroBanner backgroundImage={AboutHeroImage} align="left">
    <div class="max-w-5xl">
      <h1
        class="text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white drop-shadow-xl mb-4"
      >
        {t("about.hero.title")}
      </h1>
      <p
        class="text-lg md:text-xl lg:text-2xl text-white/90 drop-shadow-md"
        set:html={t("about.hero.subtitle")}
      />
    </div>
  </HeroBanner>

  <AboutValues
    title={aboutContent.features.title}
    subtitle={aboutContent.features.subtitle}
    items={aboutContent.features.items.slice()}
  />

  <TestimonialsSection
    title={aboutContent.testimonials.title}
    subtitle={aboutContent.testimonials.subtitle}
    testimonials={aboutContent.testimonials.items.slice()}
    ctaLabel={aboutContent.testimonials.ctaLabel}
    backgroundImage={WaterfallBackground}
    backgroundAlt={aboutContent.testimonials.backgroundAlt}
  />
</Layout>
